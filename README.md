# R2OnlineServer
## Установка
#### Шаг 1: Установка свободно распространяемых пакетов, включающих в себя компоненты и библиотеки DLL, необходимые для запуска различных программ написанных на языке программирования С++ при помощи Visual Studio.
Распаковать Visual-C-Runtimes-All-in-One-Jul-2021.rar и нажать install_all.bat
#### Шаг 2: Установка SQLEXPR_x64_RUS.
Нажать SETUP.exe и выбрать "Новая установка изолированного экземпляра SQL Server или добавление компонентов к существующей установке.

Прочитать лицензионное соглашение и в чекбоксе "Я принимаю условия лицензионного соглашения" кликнуть и убедиться, что галочка проставилась и нажать "Далее".

На данном этапе может возникнуть ошибка напротив правила "Перезагрузите компьютер", для её решения необходимо перезагрузить компьютер.

Если перезагрузка не потребовалась, то нажимаем "Далее" и в выборе компонентов удостоверяемся, что все компоненты выбраны и только после этого нажимаем "Далее".
![1](https://user-images.githubusercontent.com/122387884/225039691-82ef76b9-ea64-4154-8bf9-fd0a6b0bb413.png)
В настройках экземпляра у "Именованный экземпляр" должно быть **SQLExpress** и "Идентификатор экземпляра" должен быть **SQLEXPRESS**, удостоверившись в этом нажимаем "Далее".
![2](https://user-images.githubusercontent.com/122387884/225039743-075ea4d7-3db3-4bc8-b86e-500abfc4a63f.png)

В конфигурации сервера ничего не меняем, нажимаем "Далее".
![3](https://user-images.githubusercontent.com/122387884/225039781-f9393d04-86f8-40bf-b85f-3dc063f137f3.png)

В настройках компонента Database Engine выбираем "Режим проверки подлинности" - "Смешанный режим" и указываем пароль для учетной записи системного администратора SQL Server (sa), например: **Uewy837123ejwhewe** и нажимаем "Далее" и дожидаемся завершения хода выполнения установки.
![4](https://user-images.githubusercontent.com/122387884/225039890-0762cacd-f97d-4920-b13c-b409842d4660.png)
![5](https://user-images.githubusercontent.com/122387884/225039923-4edae038-d67c-4986-b512-d6d91729b9b8.png)

#### Шаг 3: SQLManagementStudio_x64_RUS.
Нажать SETUP.exe и выбрать "Новая установка изолированного экземпляра SQL Server или добавление компонентов к существующей установке.

Нажать "Далее".

В типе установки выбрать "Добавить компоненты в существующий экземпляр SQL Server 2014" и удостовериться, что выбрано **SQLEXPRESS** и нажать "Далее".
![6](https://user-images.githubusercontent.com/122387884/225040028-6f1516b8-b8fc-428b-9d51-2ab1b20fb940.png)

В выборе компонентов нажать "Выделить все" и нажать "Далее" 
![7](https://user-images.githubusercontent.com/122387884/225040122-a76a7a75-4c2f-47be-8602-4c0c6366403c.png)

Дождаться завершения хода выполнения установки.
#### Шаг 4: Настройка SQL Server.
В Панели "Пуск" открываем "Диспетчер конфигурации SQL Server 2014".
![8](https://user-images.githubusercontent.com/122387884/225040217-0a8c1c7e-d60e-4dee-8012-9c474665544a.png)

В разделе "Сетевая конфигурация SQL Server" выбираем "Протоколы для SQLEXPRESS" и выбираем протокол "TCP/IP" и двойным нажатием открываем его свойства и выбираем в "Общие" - "Включено" - меняем на "Да" и переходим в Ip-адреса и во всех "IP-адрес" ставим значение **IPv4** адреса сервера и в **TCP-порт** значение **1433** и нажимаем "Применить".
![9](https://user-images.githubusercontent.com/122387884/225040309-ce00f19e-2dc6-48ab-ad2f-2ee9c72cfdd2.png)
![10](https://user-images.githubusercontent.com/122387884/225041057-92f88871-bec1-41e3-8035-dc32e965a353.png)
![11](https://user-images.githubusercontent.com/122387884/225041128-e7bec0ea-6acb-4ba7-ba45-cbcd03b688c9.png)

Переходим в "Службы SQL Server" и для "SQL Server (SQLEXPRESS)" осуществляем перезапуск.
![12](https://user-images.githubusercontent.com/122387884/225041369-5945fc47-f5d6-4bc9-89f0-5b3a5552bf80.png)

#### Шаг 5: Подключение к SQL серверу.
В Панели "Пуск" открываем SQL Server 2014 Management Studio и нажимаем "Соединить".

#### Шаг 6: Восстановление баз данных.
Нажимаем правой кнопкой мыши на "Базы данных" и выбираем "Восстановить базу данных".

В источнике выбираем "Устройство" и нажимаем на три точки, нажимаем добавить и выбираем носители резервных копиий(поочерёдно) следующих файлов: **FNLAccount.bak**, **FNLBilling.bak**, **FNLGame2157.bak**, **FNLog.bak**, **FNLParm.bak** и нажимаем "ОК". 

#### Шаг 7: Настройка базы.
Открываем базу **FNLParm**, выбираем таблицы и находим **dbo.TblParmSvr** - нажимаем правой кнопкой мыши и выбираем "Изменить первые 200 строк" и для **True** устанавливаем значение **IPv4** адреса.  

#### Шаг 8: Добавление информации в реестр Windows.
Нажимаем на .reg файл, чтобы информация добавилась в реестр(Путь к файлам). При желании можно изменить hex код файла, если у Вас будет находиться сервер в другой директории.

#### Шаг 9: Установка языка поддержки сервера.
Панель управления -> Язык и региональные стандарты -> Дополнительно -> Изменить язык системы -> Китайский (упрощенное письмо, Китай). 

Перезагрузиться.

#### Шаг 10: 
